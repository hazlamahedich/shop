Product Requirements Document (PRD)

Product Name

(Working Name): OpenCommerce Messenger Bot

Version

v1.0

Author

ChatGPT (Product + Full‑Stack Architecture)

Last Updated

2026‑02‑02

⸻

1. Overview

1.1 Product Vision

Create a Messenger‑native conversational commerce platform that allows users to discover products, add items to cart, checkout via Shopify, and manage orders — all through natural conversation.

The system must:
	•	Use only free and open‑source tools where possible
	•	Support flexible LLM usage (local or cloud)
	•	Be rule‑first and AI‑assisted, not AI‑dependent
	•	Avoid vendor lock‑in (e.g., ManyChat)

⸻

2. Goals & Success Metrics

2.1 Primary Goals (MVP)
	•	Enable end‑to‑end shopping via Messenger
	•	Reduce friction vs traditional Shopify browsing
	•	Operate without paid chatbot platforms

2.2 Secondary Goals (Phase 2)
	•	Increase conversion via personalization and explainability
	•	Reduce support cost through automation
	•	Become reusable across industries (SaaS‑ready)

2.3 Success Metrics

Metric	Target
Checkout completion rate	+20% vs web only
Drop‑off after product view	<30%
FAQ automation coverage	>70%
Bot uptime	99%


⸻

3. Target Users

3.1 End Users
	•	Mobile‑first shoppers
	•	Messenger users
	•	Non‑technical customers

3.2 Admin / Store Owners
	•	Small to medium Shopify merchants
	•	No‑code / low‑code users

⸻

4. In‑Scope vs Out‑of‑Scope

4.1 In Scope
	•	Facebook Messenger only (MVP)
	•	Shopify storefront integration
	•	Rule‑based commerce flows
	•	Optional LLM for language

4.2 Out of Scope (MVP)
	•	Native payment processing
	•	WhatsApp / SMS
	•	Advanced SaaS billing
	•	Influencer / affiliate tracking

⸻

5. System Architecture (High Level)

Messenger
   ↓
Webhook (FastAPI)
   ↓
Conversation Orchestrator
   ↓
Rules Engine (Rasa)
   ↓
LLM Abstraction Layer
   ↓
Shopify Storefront API


⸻

6. Core MVP Features

6.1 Messenger Integration

Description: Connect Messenger to backend via webhook.

Requirements:
	•	Webhook verification
	•	Receive text, buttons, quick replies
	•	Send structured messages

⸻

6.2 Conversation Engine (Rule‑First)

Description: Deterministic flows using intents and confidence.

Key Intents:
	•	greet
	•	browse_products
	•	add_to_cart
	•	checkout
	•	track_order
	•	faq

Rules:
	•	LLM never decides price, cart, or checkout
	•	Low confidence → clarification

⸻

6.3 Product Discovery

Capabilities:
	•	Category browsing
	•	Price filtering
	•	Product carousel

Data Source: Shopify Storefront API

⸻

6.4 Conversational Cart

Capabilities:
	•	Natural language add to cart
	•	Size and color resolution
	•	One cart per user session

⸻

6.5 Checkout Handoff

Flow:
	•	Generate Shopify checkout URL
	•	Send secure link via Messenger

Constraints:
	•	Payments handled by Shopify only

⸻

6.6 Order Tracking

Capabilities:
	•	Order confirmation
	•	Shipment status

Trigger:
	•	Shopify webhooks

⸻

6.7 FAQ Automation

Approach:
	•	Rule‑based answers
	•	LLM for rephrasing only

⸻

6.8 LLM Abstraction Layer (MVP)

Requirements:
	•	Single interface: generate(prompt, context)
	•	Local LLM support (Ollama)
	•	Optional cloud LLM
	•	Config‑based switching

⸻

7. Phase 2 – Advanced Features

7.1 Smart LLM Routing

Description: Route tasks to different models.

Task	Engine
FAQs	Local LLM
Product explanation	Local
Persuasion	Cloud
Checkout	Rules


⸻

7.2 RAG (Retrieval‑Augmented Generation)

Description: Ground AI answers in store data.

Sources:
	•	Product descriptions
	•	Policies
	•	FAQs

Tech:
	•	Embeddings
	•	Vector DB (FAISS / Chroma)

⸻

7.3 Soft Memory & Personalization

Remembered:
	•	Size preference
	•	Price sensitivity
	•	Category interest

Not Stored:
	•	Payment info
	•	Addresses

⸻

7.4 Explainability Layer

Feature: “Why this product?”

Output:
	•	Criteria matched
	•	User preferences used

⸻

7.5 Smart Upsell Engine

Rules:
	•	Max 1 upsell
	•	Same category
	•	Price delta cap

AI Role: Explanation only

⸻

7.6 Industry Packs

Reusable Templates:
	•	Fashion
	•	Clinics
	•	Laundry
	•	Real estate

⸻

7.7 Multi‑Channel Expansion

Channels:
	•	Instagram DM
	•	Web chat

(Messenger remains core)

⸻

7.8 Advanced Analytics

Insights:
	•	Conversation → revenue
	•	Funnel drop‑offs
	•	Confusing products

Stack:
	•	PostgreSQL
	•	Metabase

⸻

8. Non‑Functional Requirements

8.1 Performance
	•	<500ms response (rules)
	•	<2s response (LLM)

8.2 Security
	•	HTTPS only
	•	Webhook signature validation
	•	Token encryption

8.3 Privacy
	•	No PII sent to cloud LLMs
	•	Opt‑in memory

⸻

9. Tech Stack Summary

Layer	Tool
Backend	FastAPI
Chatbot	Rasa
LLM (Local)	Ollama
DB	PostgreSQL + Redis
E‑commerce	Shopify
Hosting	Docker + Free Tier Cloud


⸻

10. Risks & Mitigations

Risk	Mitigation
LLM hallucination	Rule‑first design
Shopify API limits	Caching
Messenger UX limits	Quick replies


⸻

11. MVP Acceptance Criteria
	•	User can complete purchase via Messenger
	•	Bot never breaks checkout flow
	•	LLM can be disabled without breaking system

⸻

12. Future Vision

This platform evolves into a conversational commerce engine reusable across industries, channels, and AI providers — fully owned, extensible, and cost‑controlled.